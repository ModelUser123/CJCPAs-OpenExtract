{
  "template_id": "generic-bank-statement",
  "template_name": "Generic Bank Statement",
  "description": "Universal template for extracting common fields from bank account statements, including balances and transaction summaries.",
  "document_type": "bank-statement",
  "version": "1.0.0",
  "author": "OpenExtract Community",
  "tags": ["bank", "statement", "account", "financial", "reconciliation"],
  "fields": [
    {
      "field_name": "bank_name",
      "display_name": "Bank Name",
      "data_type": "string",
      "required": true,
      "extraction_method": "regex",
      "regex_pattern": "([A-Z][A-Za-z\\s&\\.]+(?:Bank|Credit Union|Financial|Trust))",
      "section": "Bank Information"
    },
    {
      "field_name": "account_holder_name",
      "display_name": "Account Holder Name",
      "data_type": "string",
      "required": true,
      "extraction_method": "regex",
      "regex_pattern": "(?:Account\\s+[Hh]older|Name|Customer)[:\\s]+([A-Za-z\\s\\-\\.,&'()]+?)(?:\\n|$|\\s{2,})",
      "section": "Account Information"
    },
    {
      "field_name": "account_number",
      "display_name": "Account Number",
      "data_type": "string",
      "required": true,
      "extraction_method": "regex",
      "regex_pattern": "(?:Account\\s*(?:#|No\\.?|Number)?)[:\\s]*(?:\\*{4,}|X{4,})?(\\d{4,})",
      "fallback_patterns": [
        "(?:Acct\\.?)[:\\s]*(\\d{4,})"
      ],
      "section": "Account Information"
    },
    {
      "field_name": "account_type",
      "display_name": "Account Type",
      "data_type": "string",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Account\\s+[Tt]ype)[:\\s]*(Checking|Savings|Money\\s+Market|CD|Business)",
      "fallback_patterns": [
        "(Checking|Savings|Money\\s+Market)\\s+(?:Account|Statement)"
      ],
      "section": "Account Information"
    },
    {
      "field_name": "routing_number",
      "display_name": "Routing Number",
      "data_type": "string",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Routing\\s*(?:#|No\\.?|Number)?|ABA)[:\\s]*(\\d{9})",
      "validation": "^\\d{9}$",
      "section": "Account Information"
    },
    {
      "field_name": "statement_period_start",
      "display_name": "Statement Period Start",
      "data_type": "date",
      "required": true,
      "extraction_method": "regex",
      "regex_pattern": "(?:Statement\\s+[Pp]eriod|Period)[:\\s]*(\\d{1,2}[/-]\\d{1,2}[/-]\\d{2,4})\\s*(?:to|through|-)",
      "fallback_patterns": [
        "(\\d{1,2}[/-]\\d{1,2}[/-]\\d{4})\\s*(?:to|through|-)\\s*\\d{1,2}[/-]\\d{1,2}[/-]\\d{4}"
      ],
      "section": "Statement Information"
    },
    {
      "field_name": "statement_period_end",
      "display_name": "Statement Period End",
      "data_type": "date",
      "required": true,
      "extraction_method": "regex",
      "regex_pattern": "(?:to|through|-)\\s*(\\d{1,2}[/-]\\d{1,2}[/-]\\d{2,4})",
      "fallback_patterns": [
        "\\d{1,2}[/-]\\d{1,2}[/-]\\d{4}\\s*(?:to|through|-)\\s*(\\d{1,2}[/-]\\d{1,2}[/-]\\d{4})"
      ],
      "section": "Statement Information"
    },
    {
      "field_name": "beginning_balance",
      "display_name": "Beginning Balance",
      "data_type": "currency",
      "required": true,
      "extraction_method": "regex",
      "regex_pattern": "(?:Beginning|Opening|Previous|Starting)\\s+[Bb]alance[:\\s]*\\$?([\\d,]+(?:\\.\\d{2})?)",
      "section": "Account Summary"
    },
    {
      "field_name": "ending_balance",
      "display_name": "Ending Balance",
      "data_type": "currency",
      "required": true,
      "extraction_method": "regex",
      "regex_pattern": "(?:Ending|Closing|Current|New)\\s+[Bb]alance[:\\s]*\\$?([\\d,]+(?:\\.\\d{2})?)",
      "section": "Account Summary"
    },
    {
      "field_name": "total_deposits",
      "display_name": "Total Deposits/Credits",
      "data_type": "currency",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Total\\s+)?(?:Deposits|Credits|Additions)[:\\s]*\\$?([\\d,]+(?:\\.\\d{2})?)",
      "section": "Account Summary"
    },
    {
      "field_name": "total_withdrawals",
      "display_name": "Total Withdrawals/Debits",
      "data_type": "currency",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Total\\s+)?(?:Withdrawals|Debits|Subtractions)[:\\s]*\\$?([\\d,]+(?:\\.\\d{2})?)",
      "section": "Account Summary"
    },
    {
      "field_name": "number_of_deposits",
      "display_name": "Number of Deposits",
      "data_type": "integer",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Number\\s+of\\s+)?[Dd]eposits[:\\s]*(\\d+)",
      "section": "Account Summary"
    },
    {
      "field_name": "number_of_withdrawals",
      "display_name": "Number of Withdrawals",
      "data_type": "integer",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Number\\s+of\\s+)?[Ww]ithdrawals[:\\s]*(\\d+)",
      "section": "Account Summary"
    },
    {
      "field_name": "total_fees",
      "display_name": "Total Fees",
      "data_type": "currency",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Total\\s+)?[Ff]ees\\s+(?:charged)?[:\\s]*\\$?([\\d,]+(?:\\.\\d{2})?)",
      "section": "Account Summary"
    },
    {
      "field_name": "interest_earned",
      "display_name": "Interest Earned",
      "data_type": "currency",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Interest\\s+[Ee]arned|Interest\\s+[Pp]aid)[:\\s]*\\$?([\\d,]+(?:\\.\\d{2})?)",
      "section": "Account Summary"
    },
    {
      "field_name": "average_daily_balance",
      "display_name": "Average Daily Balance",
      "data_type": "currency",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:Average\\s+[Dd]aily\\s+[Bb]alance)[:\\s]*\\$?([\\d,]+(?:\\.\\d{2})?)",
      "section": "Account Summary"
    },
    {
      "field_name": "apy",
      "display_name": "Annual Percentage Yield",
      "data_type": "percentage",
      "required": false,
      "extraction_method": "regex",
      "regex_pattern": "(?:APY|Annual\\s+Percentage\\s+Yield)[:\\s]*([\\d.]+)\\s*%",
      "section": "Account Summary"
    }
  ],
  "output_format": {
    "csv_headers": [
      "bank_name",
      "account_holder_name",
      "account_number",
      "account_type",
      "routing_number",
      "statement_period_start",
      "statement_period_end",
      "beginning_balance",
      "ending_balance",
      "total_deposits",
      "total_withdrawals",
      "number_of_deposits",
      "number_of_withdrawals",
      "total_fees",
      "interest_earned",
      "average_daily_balance",
      "apy"
    ],
    "date_format": "YYYY-MM-DD"
  }
}
